<!DOCTYPE html>
<html>
<head>
    <title>Dark and Darker Damage Calculator Prototype</title>
    <style>
        /* Add your CSS styles here */
        #container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
        }

        .item {
            margin: 10px;
        }
    </style>
</head>
<body>
    <h1>Item Selection and Total Calculation</h1>
    
    <div id="container">
        <div class="playerClass">
            <h2>Player Class</h2>
            <label for="playerClass">Class:</label>
            <select id="playerClass">
                <option value="fighter">Fighter</option>
                <option value="barbarian">Barbarian</option>
                <option value="rogue">Rogue</option>
                <option value="cleric">Cleric</option>
                <option value="wizard">Wizard</option>
                <option value="ranger">Ranger</option>
                <option value="warlock">Warlock</option>
                <option value="bard">Bard</option>
            </select>
        </div>

        
        <div class="item">
            <h2>Mainhand</h2>
                <select id = "item1">
                </select>
            <label for="item1Attribute">Attribute:</label>
            <select id="item1Attribute">
                <option value="10">Option 1</option>
                <option value="20">Option 2</option>
                <option value="30">Option 3</option>
            </select>
            <br>
            <label for="item1Slider">Value:</label>
            <input type="range" id="item1Slider" min="0" max="100" step="1" value="0">
            <span id="item1Value">0</span>
        </div>

        <div class="item">
            <h2>Offhand</h2>
                <select id = "">
                    <option value="test1">Option 1</option>
                    <option value="test2">Option 2</option>
                    <option value="test3">Option 3</option>
                </select>
            <label for="item1Attribute">Attribute:</label>
            <select id="item1Attribute">
                <option value="10">Option 1</option>
                <option value="20">Option 2</option>
                <option value="30">Option 3</option>
            </select>
            <br>
            <label for="item1Slider">Value:</label>
            <input type="range" id="item1Slider" min="0" max="100" step="1" value="0">
            <span id="item1Value">0</span>
        </div>

        <div class="item">
            <h2>Head</h2>
                <select id = "item1">
                    <option value="test1">Option 1</option>
                    <option value="test2">Option 2</option>
                    <option value="test3">Option 3</option>
                </select>
            <label for="item1Attribute">Attribute:</label>
            <select id="item1Attribute">
                <option value="10">Option 1</option>
                <option value="20">Option 2</option>
                <option value="30">Option 3</option>
            </select>
            <br>
            <label for="item1Slider">Value:</label>
            <input type="range" id="item1Slider" min="0" max="100" step="1" value="0">
            <span id="item1Value">0</span>
        </div>

        <div class="item">
            <h2>Chest</h2>
                <select id = "item1">
                    <option value="test1">Option 1</option>
                    <option value="test2">Option 2</option>
                    <option value="test3">Option 3</option>
                </select>
            <label for="item1Attribute">Attribute:</label>
            <select id="item1Attribute">
                <option value="10">Option 1</option>
                <option value="20">Option 2</option>
                <option value="30">Option 3</option>
            </select>
            <br>
            <label for="item1Slider">Value:</label>
            <input type="range" id="item1Slider" min="0" max="100" step="1" value="0">
            <span id="item1Value">0</span>
        </div>

        <div class="item">
            <h2>Legs</h2>
                <select id = "item1">
                    <option value="test1">Option 1</option>
                    <option value="test2">Option 2</option>
                    <option value="test3">Option 3</option>
                </select>
            <label for="item1Attribute">Attribute:</label>
            <select id="item1Attribute">
                <option value="10">Option 1</option>
                <option value="20">Option 2</option>
                <option value="30">Option 3</option>
            </select>
            <br>
            <label for="item1Slider">Value:</label>
            <input type="range" id="item1Slider" min="0" max="100" step="1" value="0">
            <span id="item1Value">0</span>
        </div>
        
        <div class="item">
            <h2>Feet</h2>
            <label for="item2Attribute">Attribute:</label>
            <select id="item2Attribute">
                <option value="5">Option 1</option>
                <option value="10">Option 2</option>
                <option value="15">Option 3</option>
            </select>
            <br>
            <label for="item2Slider">Value:</label>
            <input type="range" id="item2Slider" min="0" max="100" step="1" value="0">
            <span id="item2Value">0</span>
        </div>
    </div>

    <div>
        <h2>Total Value:</h2>
        <div id="totalValue">0</div>
    </div>

    <script>
        // JavaScript code for calculating and updating the total value

        //object to store all compatible items for each class, to avoid invalid selections.
        classItems = {
            figher: {
                mainHand: ["test", "test"],
                offHand: ["test", "test"],
                head: ["test", "test"],
                chest: ["test", "test"],
                legs: ["test", "test"],
                feet: ["test", "test"],
                ring1: ["test", "test"],
                ring2: ["test", "test"],
                neck: ["test", "test"],
                cloak: ["test", "test"],
            },
            barbarian: {
                mainHand: ["test", "test"],
                offHand: ["test", "test"],
                head: ["test", "test"],
                chest: ["test", "test"],
                legs: ["test", "test"],
                feet: ["test", "test"],
                ring1: ["test", "test"],
                ring2: ["test", "test"],
                neck: ["test", "test"],
                cloak: ["test", "test"],
            },
            rogue: {
                mainHand: ["test", "test"],
                offHand: ["test", "test"],
                head: ["test", "test"],
                chest: ["test", "test"],
                legs: ["test", "test"],
                feet: ["test", "test"],
                ring1: ["test", "test"],
                ring2: ["test", "test"],
                neck: ["test", "test"],
                cloak: ["test", "test"],
            },
            cleric: {
                mainHand: ["test", "test"],
                offHand: ["test", "test"],
                head: ["test", "test"],
                chest: ["test", "test"],
                legs: ["test", "test"],
                feet: ["test", "test"],
                ring1: ["test", "test"],
                ring2: ["test", "test"],
                neck: ["test", "test"],
                cloak: ["test", "test"],
            },
            wizard: {
                mainHand: ["test", "test"],
                offHand: ["test", "test"],
                head: ["test", "test"],
                chest: ["test", "test"],
                legs: ["test", "test"],
                feet: ["test", "test"],
                ring1: ["test", "test"],
                ring2: ["test", "test"],
                neck: ["test", "test"],
                cloak: ["test", "test"],
            },
            ranger: {
                mainHand: ["test", "test"],
                offHand: ["test", "test"],
                head: ["test", "test"],
                chest: ["test", "test"],
                legs: ["test", "test"],
                feet: ["test", "test"],
                ring1: ["test", "test"],
                ring2: ["test", "test"],
                neck: ["test", "test"],
                cloak: ["test", "test"],
            },
            warlock: {
                mainHand: ["test", "test"],
                offHand: ["test", "test"],
                head: ["test", "test"],
                chest: ["test", "test"],
                legs: ["test", "test"],
                feet: ["test", "test"],
                ring1: ["test", "test"],
                ring2: ["test", "test"],
                neck: ["test", "test"],
                cloak: ["test", "test"],
            },
            bard: {
                mainHand: ["test", "test"],
                offHand: ["test", "test"],
                head: ["test", "test"],
                chest: ["test", "test"],
                legs: ["test", "test"],
                feet: ["test", "test"],
                ring1: ["test", "test"],
                ring2: ["test", "test"],
                neck: ["test", "test"],
                cloak: ["test", "test"],
            }
        }

        class playerClass {
            constructor(){
                try{
                    this.class = document.getElementById('playerClass');
                    this.items = classItems[this.class];
                }
                catch(err){
                    console.log("Class Not Selected");
                }
            }
        }

        //damage formula : 
        //((((((Base Weapon/Magical Damage + "Buff" Weapon Damage) * Combo Bonus * Impact Zone Bonus) + "Gear" Weapon Damage/Magical Damage + Divine Strike Damage) 
        //* (1 + Power Bonus)) + Additional Damage) * (Hit Location Bonus) * (1 - (Damage Reduction * (1 - Penetration))) * (1 - Projectile Reduction)) + True Damage
        
        const select = document.getElementById('item1');
        currClass = new playerClass();
        classItems[currClass.class]["mainHand"].forEach(item => {
        const option = document.createElement('option');
        option.value = item;
        option.text = item;
        select.appendChild(option);
        });
        
        const item1Attribute = document.getElementById("item1Attribute");
        const item1Slider = document.getElementById("item1Slider");
        const item1Value = document.getElementById("item1Value");

        const item2Attribute = document.getElementById("item2Attribute");
        const item2Slider = document.getElementById("item2Slider");
        const item2Value = document.getElementById("item2Value");

        const totalValue = document.getElementById("totalValue");

        item1Attribute.addEventListener("change", updateTotal);
        item1Slider.addEventListener("input", updateTotal);

        item2Attribute.addEventListener("change", updateTotal);
        item2Slider.addEventListener("input", updateTotal);

        function updateTotal() {
            const item1AttributeValue = parseInt(item1Attribute.value);
            const item1SliderValue = parseInt(item1Slider.value);

            const item2AttributeValue = parseInt(item2Attribute.value);
            const item2SliderValue = parseInt(item2Slider.value);

            const totalPrice = item1AttributeValue + item1SliderValue + item2AttributeValue + item2SliderValue;
            totalValue.textContent = totalPrice;
        }
    </script>
</body>
</html>
